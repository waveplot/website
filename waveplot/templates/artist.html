<p>A list of WavePlots by {{name}}:</p>

<script src="{{ url_for('static', filename='scripts/list.js') }}"></script>
<script>
    function replace_bad_ca() {
        $(".coverartsmall").attr("src", "{{ url_for('static', filename='images/missingart.png') }}");
    }
</script>

<table>
{% for recording in recordings %}
    {% if current_release_name != recording['cached_release_name'] %}
      {% set current_release_name = recording['cached_release_name'] %}
      <tr style="height:60px";><td style="width:60px">
          <div class="coverartthumb">
              <img class="coverartsmall" width="40" height="40" src="http://www.coverartarchive.org/release/{{ recording['release_mbid'] }}/front-250" onerror="replace_bad_ca()"/>
          </div>
        </td><td class="albumname">{{ current_release_name }}</td></tr>
    {% endif %}
    <tr style="height:30px;"><td style="width:60px;"><div class="waveplotsmallthumb"><canvas class="thumb_canvas" width="50" height="21" data_path="{{ url_for('static', filename= recording['image_prefix']+'_thumb') }}"></canvas></div></td><td><a href="{{ url_for('waveplot_display',uuid=recording['waveplot_uuid']) }}">"{{ recording['cached_recording_name'] }}"</a></td></tr>


{% endfor %}
</table>

<div class="centred"><a href="{{ url_for('recache_artist', name=name) }}">Recache</a></div>
